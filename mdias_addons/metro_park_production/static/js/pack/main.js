!function(n){function e(e){for(var i,l,o=e[0],s=e[1],d=e[2],p=0,u=[];p<o.length;p++)l=o[p],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&u.push(a[l][0]),a[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i]);for(c&&c(e);u.length;)u.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],i=!0,o=1;o<t.length;o++){var s=t[o];0!==a[s]&&(i=!1)}i&&(r.splice(e--,1),n=l(l.s=t[0]))}return n}var i={},a={1:0},r=[];function l(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=n,l.c=i,l.d=function(n,e,t){l.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},l.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,e){if(1&e&&(n=l(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)l.d(t,i,function(e){return n[e]}.bind(null,i));return t},l.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(e,"a",e),e},l.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var c=s;r.push([741,0]),t()}({137:function(n){n.exports=JSON.parse('{"dispatchTrainNum":{"tooltip":{"trigger":"axis","axisPointer":{"lineStyle":{"color":"white"}}},"xAxis":{"axisLabel":{"color":"#0ac4f7"},"axisLine":{"lineStyle":{"color":"#0ac4f7"}},"axisTick":{"alignWithLabel":true},"type":"category","data":["10:00","10:30","11:00","11:30","12:00","12:30","13:00"]},"dataZoom":[{"fillerColor":"rgba(0,130,200,0.3)","realtime":false,"dataBackground":{"areaStyle":{"color":"blue"}},"borderColor":"#0ac4f7","type":"slider","show":true,"xAxisIndex":0,"textStyle":{"color":"#0ac4f7"}}],"yAxis":{"name":"计划数量","nameLocation":"center","nameGap":30,"axisLabel":{"color":"#0ac4f7"},"splitLine":{"lineStyle":{"color":"#0ac4f7"}},"axisLine":{"lineStyle":{"color":"#0ac4f7"}},"type":"value"},"series":[{"label":{"show":true,"position":"top"},"areaStyle":{"color":{"type":"linear","x":0,"y":0,"x2":0,"y2":1,"colorStops":[{"offset":0,"color":"#0077f7"},{"offset":1,"color":"#0ac4f7"}]}},"itemStyle":{"color":"#0ea2e2"},"barCategoryGap":"70%","data":[],"type":"line"}]}}')},20:function(n,e,t){"use strict";e.a={data:function(){return{mode:this.$root.$widget.mode}},computed:{$widget:function(){return this.$root.$widget},$required:function(){return this.$root.$required},$filed_string:function(){return this.$widget.field.string},$widget_value:function(){return this.$widget.value.data}},methods:{do_action:function(){return this.$widget.do_action.apply(this.$widget,arguments)},_rpc:function(){return this.$widget._rpc.apply(this.$widget,arguments)}}}},30:function(n,e,t){"use strict";t.d(e,"a",function(){return i}),void 0===window.load_vue_widget&&(t(386),t(387),t(388),t(389),window.load_vue_widget=!0);var i={actionRegister:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Vue";odoo.define(t+"."+n,function(require){var t=require("web.core"),i=require("Vue.ComWidget").extend({vue_component:e}).extend(e.widget);t.action_registry.add(n,i)})},fieldRegister:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Vue";odoo.define(t+"."+n,function(require){var t=require("web.field_registry"),i=require("Vue.AbstractField").extend({vue_component:e}).extend(e.widget);t.add(n,i)})},widgetRegister:function(n,e,t){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Vue",r=["web.Widget","web.widget_registry","Vue.ComWidgetRegister"];i=t instanceof Array?t.concat(r):r,odoo.define(a+"."+n,i,function(require){var t=require("web.widget_registry"),i=require("Vue.ComWidgetRegister").extend({vue_component:e,init:function(){return this.$required=require,this._super.apply(this,arguments)},start:function(){this._super(require)}}).extend(e.widget);t.add(n,i)})}}},367:function(n,e,t){"use strict";t.r(e);t(139);var i=t(361),a=t.n(i),r=t(26),l=t(2),o=t.n(l),s=t(97),d=t.n(s),c=t(133);r.a.prototype.$video=c.a,t(385),t(139),t(742),t(743),r.a.use(a.a),r.a.use(d.a),r.a.config.productionTip=!1,r.a.prototype.$moment=o.a},372:function(n,e,t){var i={"./af":141,"./af.js":141,"./ar":142,"./ar-dz":143,"./ar-dz.js":143,"./ar-kw":144,"./ar-kw.js":144,"./ar-ly":145,"./ar-ly.js":145,"./ar-ma":146,"./ar-ma.js":146,"./ar-sa":147,"./ar-sa.js":147,"./ar-tn":148,"./ar-tn.js":148,"./ar.js":142,"./az":149,"./az.js":149,"./be":150,"./be.js":150,"./bg":151,"./bg.js":151,"./bm":152,"./bm.js":152,"./bn":153,"./bn.js":153,"./bo":154,"./bo.js":154,"./br":155,"./br.js":155,"./bs":156,"./bs.js":156,"./ca":157,"./ca.js":157,"./cs":158,"./cs.js":158,"./cv":159,"./cv.js":159,"./cy":160,"./cy.js":160,"./da":161,"./da.js":161,"./de":162,"./de-at":163,"./de-at.js":163,"./de-ch":164,"./de-ch.js":164,"./de.js":162,"./dv":165,"./dv.js":165,"./el":166,"./el.js":166,"./en-SG":167,"./en-SG.js":167,"./en-au":168,"./en-au.js":168,"./en-ca":169,"./en-ca.js":169,"./en-gb":170,"./en-gb.js":170,"./en-ie":171,"./en-ie.js":171,"./en-il":172,"./en-il.js":172,"./en-nz":173,"./en-nz.js":173,"./eo":174,"./eo.js":174,"./es":175,"./es-do":176,"./es-do.js":176,"./es-us":177,"./es-us.js":177,"./es.js":175,"./et":178,"./et.js":178,"./eu":179,"./eu.js":179,"./fa":180,"./fa.js":180,"./fi":181,"./fi.js":181,"./fo":182,"./fo.js":182,"./fr":183,"./fr-ca":184,"./fr-ca.js":184,"./fr-ch":185,"./fr-ch.js":185,"./fr.js":183,"./fy":186,"./fy.js":186,"./ga":187,"./ga.js":187,"./gd":188,"./gd.js":188,"./gl":189,"./gl.js":189,"./gom-latn":190,"./gom-latn.js":190,"./gu":191,"./gu.js":191,"./he":192,"./he.js":192,"./hi":193,"./hi.js":193,"./hr":194,"./hr.js":194,"./hu":195,"./hu.js":195,"./hy-am":196,"./hy-am.js":196,"./id":197,"./id.js":197,"./is":198,"./is.js":198,"./it":199,"./it-ch":200,"./it-ch.js":200,"./it.js":199,"./ja":201,"./ja.js":201,"./jv":202,"./jv.js":202,"./ka":203,"./ka.js":203,"./kk":204,"./kk.js":204,"./km":205,"./km.js":205,"./kn":206,"./kn.js":206,"./ko":207,"./ko.js":207,"./ku":208,"./ku.js":208,"./ky":209,"./ky.js":209,"./lb":210,"./lb.js":210,"./lo":211,"./lo.js":211,"./lt":212,"./lt.js":212,"./lv":213,"./lv.js":213,"./me":214,"./me.js":214,"./mi":215,"./mi.js":215,"./mk":216,"./mk.js":216,"./ml":217,"./ml.js":217,"./mn":218,"./mn.js":218,"./mr":219,"./mr.js":219,"./ms":220,"./ms-my":221,"./ms-my.js":221,"./ms.js":220,"./mt":222,"./mt.js":222,"./my":223,"./my.js":223,"./nb":224,"./nb.js":224,"./ne":225,"./ne.js":225,"./nl":226,"./nl-be":227,"./nl-be.js":227,"./nl.js":226,"./nn":228,"./nn.js":228,"./pa-in":229,"./pa-in.js":229,"./pl":230,"./pl.js":230,"./pt":231,"./pt-br":232,"./pt-br.js":232,"./pt.js":231,"./ro":233,"./ro.js":233,"./ru":234,"./ru.js":234,"./sd":235,"./sd.js":235,"./se":236,"./se.js":236,"./si":237,"./si.js":237,"./sk":238,"./sk.js":238,"./sl":239,"./sl.js":239,"./sq":240,"./sq.js":240,"./sr":241,"./sr-cyrl":242,"./sr-cyrl.js":242,"./sr.js":241,"./ss":243,"./ss.js":243,"./sv":244,"./sv.js":244,"./sw":245,"./sw.js":245,"./ta":246,"./ta.js":246,"./te":247,"./te.js":247,"./tet":248,"./tet.js":248,"./tg":249,"./tg.js":249,"./th":250,"./th.js":250,"./tl-ph":251,"./tl-ph.js":251,"./tlh":252,"./tlh.js":252,"./tr":253,"./tr.js":253,"./tzl":254,"./tzl.js":254,"./tzm":255,"./tzm-latn":256,"./tzm-latn.js":256,"./tzm.js":255,"./ug-cn":257,"./ug-cn.js":257,"./uk":258,"./uk.js":258,"./ur":259,"./ur.js":259,"./uz":260,"./uz-latn":261,"./uz-latn.js":261,"./uz.js":260,"./vi":262,"./vi.js":262,"./x-pseudo":263,"./x-pseudo.js":263,"./yo":264,"./yo.js":264,"./zh-cn":265,"./zh-cn.js":265,"./zh-hk":266,"./zh-hk.js":266,"./zh-tw":267,"./zh-tw.js":267};function a(n){var e=r(n);return t(e)}function r(n){if(!t.o(i,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return i[n]}a.keys=function(){return Object.keys(i)},a.resolve=r,n.exports=a,a.id=372},373:function(n,e){},386:function(n,e){odoo.define("Vue.Widget",function(require){"use strict";return require("web.Widget").extend({init:function(n,e){this._super(n,e)}})})},387:function(n,e,t){"use strict";t.r(e);var i=t(61);odoo.define("Vue.AbstractField",function(require){return require("web.AbstractField").extend(i.a,{start:function(){this._super(),this._bind_vue(this.$el,this,require)}})})},388:function(n,e,t){"use strict";t.r(e);var i=t(61);odoo.define("Vue.ComWidget",function(require){return require("web.AbstractAction").extend(i.a,{start:function(){this._super(),this._bind_vue(this.$el,this,require)}})})},389:function(n,e,t){"use strict";t.r(e);var i=t(61);odoo.define("Vue.ComWidgetRegister",function(require){return require("web.Widget").extend(i.a,{init:function(){this._super.apply(this,arguments),this.$args=arguments},start:function(n){this._super(),this._bind_vue(this.$el,this,n)}})})},390:function(n,e,t){var i=t(391);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("05f1d468",i,!1,{})},391:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"AttachmentListField.vue"}])},412:function(n,e,t){var i=t(413);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("07b7b0d0",i,!1,{})},413:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n.froala-field {\n    margin-top: 2rem;\n}\n.fr-dropdown-wrapper {\n    min-height: 10rem;\n}\n.modal-dialog.modal-lg.fr-fullscreen-wrapper {\n    max-width: 100%;\n}\n.fr-wrapper > div[style*='z-index:9999;width:100%;position:relative'] {\n    position: absolute;\n    top: -10000px;\n    opacity: 0;\n}\n.fr-box.fr-basic .fr-element {\n    margin-top: -1rem;\n}\n.second-toolbar #logo {\n    display: none;\n}\n","",{version:3,sources:["src/widget_field/FroalaTableEditor.vue","FroalaTableEditor.vue"],names:[],mappings:";AA6DA;IACA,gBAAA;AC3DA;AD8DA;IACA,iBAAA;AC5DA;AD+DA;IACA,eAAA;AC7DA;ADgEA;IACA,kBAAA;IACA,aAAA;IACA,UAAA;AC9DA;ADiEA;IACA,iBAAA;AC/DA;ADkEA;IACA,aAAA;AChEA",file:"FroalaTableEditor.vue",sourcesContent:["<template>\n    <div class=\"froala-field\">\n        <froala v-model=\"value\" :tag=\"'textarea'\" :config=\"config\">\n        </froala>\n    </div>\n</template>\n\n<script>\n\n    import widget_mixin from '../mixins/widget_mixin'\n\n    export default {\n        name: 'FroalaEditorField',\n        mixins: [widget_mixin],\n        data() {\n            let self = this;\n            let mode = self.$root.$widget.mode;\n            let config = {\n                language: \"zh_cn\",\n                zIndex: 99999,\n                events: {\n                    'initialized': function () {\n                        if (mode !== 'edit') {\n                            this.edit.off()\n                        }\n                        this.html.set(self.$widget.value);\n                    }\n                }\n            };\n\n            if (mode === 'edit') {\n                _.extend(config, {\n                    heightMin: 600,\n                    height: 720,\n                    toolbarSticky: true\n                })\n            }\n            if (mode === 'readonly') {\n                _.extend(config, {\n                    toolbarButtons: [],\n                    toolbarSticky: false,\n                    toolbarBottom: false\n                })\n            }\n            return {\n                config: config,\n                value: null,\n            }\n        },\n        watch: {\n            value(value) {\n                this.$widget._setValue(value)\n            }\n        },\n        widget: {\n            supportedFieldTypes: ['html'],\n        }\n    }\n<\/script>\n\n<style>\n    .froala-field {\n        margin-top: 2rem;\n    }\n\n    .fr-dropdown-wrapper {\n        min-height: 10rem;\n    }\n\n    .modal-dialog.modal-lg.fr-fullscreen-wrapper {\n        max-width: 100%;\n    }\n\n    .fr-wrapper > div[style*='z-index:9999;width:100%;position:relative'] {\n        position: absolute;\n        top: -10000px;\n        opacity: 0;\n    }\n\n    .fr-box.fr-basic .fr-element {\n        margin-top: -1rem;\n    }\n\n    .second-toolbar #logo {\n        display: none;\n    }\n</style>\n","\n.froala-field {\n    margin-top: 2rem;\n}\n.fr-dropdown-wrapper {\n    min-height: 10rem;\n}\n.modal-dialog.modal-lg.fr-fullscreen-wrapper {\n    max-width: 100%;\n}\n.fr-wrapper > div[style*='z-index:9999;width:100%;position:relative'] {\n    position: absolute;\n    top: -10000px;\n    opacity: 0;\n}\n.fr-box.fr-basic .fr-element {\n    margin-top: -1rem;\n}\n.second-toolbar #logo {\n    display: none;\n}\n"]}])},414:function(n,e,t){var i=t(415);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("1ee6a120",i,!1,{})},415:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"ColorPicker.vue"}])},416:function(n,e,t){var i=t(417);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("07ce95a8",i,!1,{})},417:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,'\n.video-js [aria-hidden="true"].vjs-icon-placeholder, [aria-hidden="1"].vjs-icon-placeholder, [aria-hidden="true"].vjs-slider-bar{\n    display: block  !important;\n}\n.video-js-el-dialog{\n    background: #0a0c0d;\n    color: #ffffff;\n}\n.video-js-el-dialog .el-dialog__title{\n    color: white;\n}\n.video-js-el-dialog .el-dialog__body{\n    padding-top: 5px;\n}\n',"",{version:3,sources:["src/widget_field/VideoField.vue","VideoField.vue"],names:[],mappings:";AA2IA;IACA,0BAAA;ACzIA;AD2IA;IACA,mBAAA;IACA,cAAA;ACzIA;AD2IA;IACA,YAAA;ACzIA;AD2IA;IACA,gBAAA;ACzIA",file:"VideoField.vue",sourcesContent:["<template>\n    <div>\n        <el-button size=\"mini\" @click=\"playVideo\" type=\"primary\" icon=\"el-icon-view\" round></el-button>\n        <el-dialog\n                :title='metadata.name'\n                :visible.sync=\"dialogVisible\"\n                width=\"60%\"\n                v-if=\"dialogVisible\"\n                modal=\"false\"\n                :modal-append-to-body=\"true\"\n                :append-to-body=\"true\"\n                @close=\"closeDialog\"\n                custom-class=\"video-js-el-dialog\"\n                top=\"10\"\n        >\n            <video\n                    id=\"videoElement\"\n                    controls preload=\"auto\"\n                    class=\"video-js vjs-theme-city\"\n            >\n            </video>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\n    import WidgetMixin from '../mixins/widget_mixin';\n\n    export default {\n        name: \"VideoField\",\n        mixins: [WidgetMixin],\n        data() {\n            return {\n                metadata: {},\n                dialogVisible: false,\n                value_data: [],\n            }\n        },\n        mounted() {\n            this.metadata = this.$widget.metadata;\n\n        },\n        methods: {\n            playVideo(event) {\n                event.stopPropagation();\n                this.dialogVisible = true;\n                this._play();\n            },\n            _play() {\n                let self = this;\n                setTimeout(function () {\n                    self.initVideo([\n                        {\n                            src: self.metadata.url,\n                            type: 'video/mp4',\n                        }\n                    ]);\n                })\n\n            },\n            closeDialog() {\n                this.videoPlayer.dispose();\n            },\n            initVideo: function (sources) {\n                //初始化视频方法\n                this.videoPlayer = this.$video('#videoElement', {\n                    controls: true,\n                    techOrder: [\"html5\", \"flash\"],\n                    preload: 'auto',\n                    autoplay: true,\n                    fluid: true, // 自适应宽高\n                    language: 'zh-CN', // 设置语言\n                    muted: false, // 是否静音\n                    inactivityTimeout: false,\n                    controlBar: { // 设置控制条组件\n                        'currentTimeDisplay': true,\n                        'timeDivider': true,\n                        'durationDisplay': true,\n                        'remainingTimeDisplay': false,\n                        volumePanel: {\n                            inline: false,\n                        },\n                        /* 使用children的形式可以控制每一个控件的位置，以及显示与否 */\n                        children: [\n                            {name: 'playToggle'}, // 播放按钮\n                            {name: 'currentTimeDisplay'}, // 当前已播放时间\n                            {name: 'progressControl'}, // 播放进度条\n                            {name: 'durationDisplay'}, // 总时间\n                            { // 倍数播放\n                                name: 'playbackRateMenuButton',\n                                'playbackRates': [0.5, 1, 1.5, 2, 2.5]\n                            },\n                            {\n                                name: 'volumePanel', // 音量控制\n                                inline: false, // 不使用水平方式\n                            },\n                            {name: 'FullscreenToggle'} // 全屏\n                        ]\n                    },\n                    sources: sources,\n                }, function () {\n                    console.log('视频就绪>>>');\n                });\n            }\n\n        },\n        widget: {\n            fieldsToFetch: {\n                name: {type: 'char'},\n                datas_fname: {type: 'char'},\n                mimetype: {type: 'char'},\n            },\n\n            supportedFieldTypes: ['many2many', 'many2one'],\n            init() {\n\n                let res = this._super.apply(this, arguments);\n                this.metadata = {};\n                return res\n            },\n            _generatedMetadata: function () {\n                var self = this;\n                self.metadata = {\n                    url: self._getFileUrl(this.value.data.id),\n                    name: this.value.data.display_name\n                };\n            },\n            _getFileUrl: function (attachment_id) {\n                return '/metro_park_production/video_stream?attachment_video_id=' + attachment_id;\n            },\n            _render: function () {\n                this._generatedMetadata();\n            }\n        },\n    }\n<\/script>\n\n<style >\n    .video-js [aria-hidden=\"true\"].vjs-icon-placeholder, [aria-hidden=\"1\"].vjs-icon-placeholder, [aria-hidden=\"true\"].vjs-slider-bar{\n        display: block  !important;\n    }\n    .video-js-el-dialog{\n        background: #0a0c0d;\n        color: #ffffff;\n    }\n    .video-js-el-dialog .el-dialog__title{\n        color: white;\n    }\n    .video-js-el-dialog .el-dialog__body{\n        padding-top: 5px;\n    }\n</style>",'\n.video-js [aria-hidden="true"].vjs-icon-placeholder, [aria-hidden="1"].vjs-icon-placeholder, [aria-hidden="true"].vjs-slider-bar{\n    display: block  !important;\n}\n.video-js-el-dialog{\n    background: #0a0c0d;\n    color: #ffffff;\n}\n.video-js-el-dialog .el-dialog__title{\n    color: white;\n}\n.video-js-el-dialog .el-dialog__body{\n    padding-top: 5px;\n}\n']}])},418:function(n,e,t){var i=t(419);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("5590f1a0",i,!1,{})},419:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"ScreenLaunch.vue"}])},424:function(n,e,t){var i=t(425);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("f5f3dc62",i,!1,{})},425:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,'\n.early-waring-content[data-v-f5485924] {\n    margin: 2rem;\n    padding: 1rem;\n    background: white;\n    border-radius: .5rem;\n}\n.panel-body[data-v-f5485924] {\n    margin-top: 2rem;\n    background: #f0f0f0;\n}\n.panel-heading[data-v-f5485924]{\n    font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n    padding: .5rem;\n    font-weight: bold;\n}\n.panel-heading > span[data-v-f5485924]{\n    color: #3b64ff;\n}\n',"",{version:3,sources:["src/main/park_production/early_waring/EarlyWaringSetting.vue","EarlyWaringSetting.vue"],names:[],mappings:";AAwEA;IACA,YAAA;IACA,aAAA;IACA,iBAAA;IACA,oBAAA;ACtEA;ADyEA;IACA,gBAAA;IACA,mBAAA;ACvEA;ADyEA;IACA,wFAAA;IACA,cAAA;IACA,iBAAA;ACvEA;ADyEA;IACA,cAAA;ACvEA",file:"EarlyWaringSetting.vue",sourcesContent:['<template>\n    <div class="container early-waring-content">\n        <div class="panel panel-default" v-for="d in early_waring" :key="d.apply_tag">\n\n            <div class="panel-body">\n                <div class="panel-heading">\n                    <span>{{d.name}}预警值设定</span>\n                </div>\n\n                <div v-for="setting in d.settings" :key="setting.id">\n                    <early-waring-setting-line\n                            :waring_name="d.name"\n                            :setting="setting"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import WidgetMixin from \'../../../mixins/widget_mixin\'\n    import EarlyWaringSettingLine from \'./EarlyWaringSettingLine\'\n\n    export default {\n        name: "EarlyWaringSetting",\n        components: {EarlyWaringSettingLine},\n        mixins: [WidgetMixin],\n        computed: {},\n        data() {\n            return {\n                early_waring: [\n                    {\n                        name: null,\n                        apply_tag: null,\n                        settings: []\n                    }\n                ],\n                checked: {}\n            }\n        },\n        mounted() {\n            let self = this;\n            this.$nextTick(() => {\n                self.make_early_waring_data()\n            });\n        },\n        methods: {\n            make_early_waring_data() {\n                let self = this;\n                self.$widget._rpc({\n                    model: \'metro_park_production.early_waring\',\n                    method: \'get_early_data\'\n                }).then(function (result) {\n                    self.set_data(result)\n                })\n            },\n            set_data(data) {\n                this.early_waring = data;\n            },\n        },\n\n        widget: {\n            init() {\n                this._super.apply(this, arguments);\n            },\n        },\n    }\n<\/script>\n\n<style scoped>\n    .early-waring-content {\n        margin: 2rem;\n        padding: 1rem;\n        background: white;\n        border-radius: .5rem;\n    }\n\n    .panel-body {\n        margin-top: 2rem;\n        background: #f0f0f0;\n    }\n    .panel-heading{\n        font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n        padding: .5rem;\n        font-weight: bold;\n    }\n    .panel-heading > span{\n        color: #3b64ff;\n    }\n</style>','\n.early-waring-content[data-v-f5485924] {\n    margin: 2rem;\n    padding: 1rem;\n    background: white;\n    border-radius: .5rem;\n}\n.panel-body[data-v-f5485924] {\n    margin-top: 2rem;\n    background: #f0f0f0;\n}\n.panel-heading[data-v-f5485924]{\n    font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n    padding: .5rem;\n    font-weight: bold;\n}\n.panel-heading > span[data-v-f5485924]{\n    color: #3b64ff;\n}\n']}])},426:function(n,e,t){var i=t(427);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("4ca4201d",i,!1,{})},427:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,'\n.input-width[data-v-741f7282] {\n    width: 6rem;\n    height: 3rem;\n    font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n}\n.single-content[data-v-741f7282] {\n    margin-left: 4rem;\n}\n.all-content div[data-v-741f7282], .single-content div[data-v-741f7282] {\n    margin: 0;\n    display: flex;\n    justify-content: end;\n}\n.early-waring-content[data-v-741f7282] {\n    margin: 0;\n    height: 5rem;\n}\n.early-waring-content div[data-v-741f7282] {\n    display: flex;\n    align-items: center;\n    vertical-align: center;\n    padding: auto;\n    background: none;\n    margin-left: .5rem;\n}\n.single-content[data-v-741f7282] {\n    margin-left: 6rem !important;\n}\n.color-picker[data-v-741f7282] {\n    border-radius: .5rem;\n    margin: 50%;\n}\n\n',"",{version:3,sources:["src/main/park_production/early_waring/EarlyWaringSettingLine.vue","EarlyWaringSettingLine.vue"],names:[],mappings:";AA6HA;IACA,WAAA;IACA,YAAA;IACA,wFAAA;AC3HA;AD8HA;IACA,iBAAA;AC5HA;AD+HA;IACA,SAAA;IACA,aAAA;IACA,oBAAA;AC7HA;ADiIA;IACA,SAAA;IACA,YAAA;AC/HA;ADkIA;IACA,aAAA;IACA,mBAAA;IACA,sBAAA;IACA,aAAA;IACA,gBAAA;IACA,kBAAA;AChIA;ADmIA;IACA,4BAAA;ACjIA;ADoIA;IACA,oBAAA;IACA,WAAA;AClIA",file:"EarlyWaringSettingLine.vue",sourcesContent:['<template>\n\n    <div class="early-waring-content">\n        <div class="all-content">\n            <div class="color-picker-select">\n                <el-color-picker v-model="setting.all_color" size="mini" class="color-picker"></el-color-picker>\n            </div>\n\n            <div class="waring-text">\n                {{waring_name}}总体完成率低于\n            </div>\n\n            <div class="percentage-input-content">\n                <el-input v-model="setting.all_threshold_value_percentage" size="mini" type="number"\n                          class="input-width"></el-input>\n                <strong>%</strong>\n            </div>\n            <div class="waring-text">\n                为{{setting.waring_line_name}}\n            </div>\n            <div class="switch">\n                <el-switch\n                        v-model="setting.all_open"\n                        active-color="#13ce66"\n                        inactive-color="#ff4949">\n                </el-switch>\n            </div>\n        </div>\n        <div class="single-content">\n            <div class="color-picker-select">\n                <el-color-picker v-model="setting.single_color" size="mini" class="color-picker"></el-color-picker>\n            </div>\n            <div class="waring-text">\n                {{waring_name}}单个完成率低于\n            </div>\n            <div class="percentage-input-content">\n                <el-input v-model="setting.single_threshold_value_percentage" type="number"\n                          class="input-width" size="mini"></el-input>\n                <strong>%</strong>\n            </div>\n\n            <div class="waring-text">\n                为{{setting.waring_line_name}}\n            </div>\n            <div class="switch">\n                <el-switch\n                        v-model="setting.single_open"\n                        active-color="#13ce66"\n                        inactive-color="#ff4949">\n                </el-switch>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n   import WidgetMixin from \'../../../mixins/widget_mixin\'\n\n    export default {\n        name: "EarlyWaringSettingLine",\n        mixins: [WidgetMixin],\n        props: {\n            setting: {\n                type: Object,\n                default() {\n                    return {\n                        id: -1,\n                        waring_line_name: false,\n                        single_open: false,\n                        all_open: false,\n                        single_threshold_value_percentage: 0,\n                        all_threshold_value_percentage: false,\n                        single_color: null,\n                        all_color: null\n                    }\n                }\n            },\n            waring_name: {}\n        },\n        computed: {},\n        data() {\n            return {\n                setting_data: {\n                    id: -1,\n                    waring_line_name: false,\n                    single_open: false,\n                    all_open: false,\n                    single_threshold_value_percentage: false,\n                    all_threshold_value_percentage: false,\n                    single_color: null,\n                    all_color: null\n                }\n\n            }\n        },\n        methods: {\n            write_line(values){\n                this.$widget._rpc({\n                    \'model\': \'metro_park_production.early_waring.line\',\n                    \'method\': \'write\',\n                    \'args\': [values.id, {\n                        \'all_color\': values.all_color,\n                        \'single_open\': values.single_open,\n                        \'all_open\': values.all_open,\n                        \'single_threshold_value_percentage\': values.single_threshold_value_percentage,\n                        \'all_threshold_value_percentage\': values.all_threshold_value_percentage,\n                        \'single_color\': values.single_color,\n                    }]\n                })\n            }\n\n        },\n        watch: {\n            setting: {\n                immediate: true,\n                deep: true,\n                handler(val) {\n                    this.write_line(val)\n                }\n            }\n        },\n    }\n<\/script>\n\n<style scoped>\n    .input-width {\n        width: 6rem;\n        height: 3rem;\n        font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n    }\n\n    .single-content {\n        margin-left: 4rem;\n    }\n\n    .all-content div, .single-content div {\n        margin: 0;\n        display: flex;\n        justify-content: end;\n\n    }\n\n    .early-waring-content {\n        margin: 0;\n        height: 5rem;\n    }\n\n    .early-waring-content div {\n        display: flex;\n        align-items: center;\n        vertical-align: center;\n        padding: auto;\n        background: none;\n        margin-left: .5rem;\n    }\n\n    .single-content {\n        margin-left: 6rem !important;\n    }\n\n    .color-picker {\n        border-radius: .5rem;\n        margin: 50%;\n    }\n\n</style>','\n.input-width[data-v-741f7282] {\n    width: 6rem;\n    height: 3rem;\n    font-family: "Helvetica Neue", Helvetica, "PingFang SC", 微软雅黑, Tahoma, Arial, sans-serif;\n}\n.single-content[data-v-741f7282] {\n    margin-left: 4rem;\n}\n.all-content div[data-v-741f7282], .single-content div[data-v-741f7282] {\n    margin: 0;\n    display: flex;\n    justify-content: end;\n}\n.early-waring-content[data-v-741f7282] {\n    margin: 0;\n    height: 5rem;\n}\n.early-waring-content div[data-v-741f7282] {\n    display: flex;\n    align-items: center;\n    vertical-align: center;\n    padding: auto;\n    background: none;\n    margin-left: .5rem;\n}\n.single-content[data-v-741f7282] {\n    margin-left: 6rem !important;\n}\n.color-picker[data-v-741f7282] {\n    border-radius: .5rem;\n    margin: 50%;\n}\n\n']}])},428:function(n,e,t){var i=t(429);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("57a5b9a3",i,!1,{})},429:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n.container-fluid[data-v-5a92f8e1] {\n    margin-top: 1rem;\n}\n\n","",{version:3,sources:["src/main/park_production/early_waring/EarlyWaringPage.vue","EarlyWaringPage.vue"],names:[],mappings:";AAkEA;IACA,gBAAA;AChEA",file:"EarlyWaringPage.vue",sourcesContent:['<template>\n    <div class=\'container-fluid\'>\n        <div class="row" style="margin-top: 2rem">\n            <div class="col-md-8" style="margin-bottom: 2rem">\n                <div class="el-button-group">\n                    <el-button type="primary" @click="openEarlySetting" size="mini">设定预警阀值</el-button>\n                    <el-button type="primary" @click="openEarlyNotifySetting" size="mini">预警提醒配置</el-button>\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col">\n                <h3>\n                    车辆生产指标预警\n                </h3>\n            </div>\n        </div>\n        <div class="row" v-for="ty in line_types">\n            <early-waring-info-line :data_type="ty"></early-waring-info-line>\n        </div>\n    </div>\n</template>\n\n<script>\n    import WidgetMixin from \'../../../mixins/widget_mixin\'\n    import EarlyWaringInfoLine from \'./EarlyWaringInfoLine\'\n\n    export default {\n        name: "EarlyWaringPage",\n        mixins: [WidgetMixin],\n        components: {EarlyWaringInfoLine},\n        data() {\n            return {\n                line_types: [\n                    \'train_maintain\',\n                    \'train_run_start\',\n                    \'train_run_finished\',\n                    \'construction\'\n                ]\n            }\n        },\n        methods: {\n            openEarlySetting() {\n                this.do_action({\n                    type: \'ir.actions.client\',\n                    name: \'预警阀值设置\',\n                    tag: \'EarlySetting\',\n                    target: \'new\'\n                })\n            },\n            openEarlyNotifySetting() {\n                let self = this;\n                this._rpc({\n                    \'model\': \'res.config.settings\',\n                    \'method\': \'early_waring_notify_action\'\n                }).then(function (action) {\n                    self.do_action(action)\n                });\n            }\n\n        }\n\n    }\n<\/script>\n\n<style scoped>\n    .container-fluid {\n        margin-top: 1rem;\n    }\n\n</style>',"\n.container-fluid[data-v-5a92f8e1] {\n    margin-top: 1rem;\n}\n\n"]}])},430:function(n,e,t){var i=t(431);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("59702ba0",i,!1,{})},431:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n.line-content[data-v-15b51994] {\n    display: flex;\n    padding-bottom: 10px;\n}\n.progress-content[data-v-15b51994] {\n    margin: auto;\n}\n\n","",{version:3,sources:["src/main/park_production/early_waring/EarlyWaringInfoLine.vue","EarlyWaringInfoLine.vue"],names:[],mappings:";AA6MA;IACA,aAAA;IACA,oBAAA;AC3MA;AD8MA;IACA,YAAA;AC5MA",file:"EarlyWaringInfoLine.vue",sourcesContent:['<template>\n    <div class="line-content col">\n        <div style="width: 280px;">\n            <div style="height: 290px;" class="card">\n                <div slot="header" class="clearfix text-center">\n                    <span>{{train_info[0]}}{{train_info[1]}}</span>\n                </div>\n                <div style="text-align: center" class="progress-content">\n                    <el-progress :stroke-width="14" type="circle"\n                                 :color="all_customColor"\n                                 :percentage="total_plan_num && (finished_plan_num/total_plan_num).toFixed(2)*100"></el-progress>\n                </div>\n                <div style="text-align: center;">\n                    <div><strong>综合{{train_info[1]}}</strong></div>\n                    <div>完成/总任务数</div>\n                    <div>{{finished_plan_num}}/{{total_plan_num}}</div>\n                </div>\n            </div>\n        </div>\n        <div style="padding-left: 20px; flex-grow: 1;">\n            <div style="height: 290px;" class="card">\n                <div slot="header" class="clearfix">\n                    <div style="display: flex; align-items: center; margin: -3px 0;">\n                        <div><strong>选择日期:</strong></div>\n                        <el-date-picker size=\'mini\' v-model="date_range" type="daterange" align="right" unlink-panels\n                                        range-separator="至" start-placeholder="开始日期" end-placeholder="结束日期"\n                                        :picker-options="date_pickerOptions">\n                        </el-date-picker>\n                        <div style="position: absolute; right: 30px; font-size: 14px; color: seagreen;cursor: pointer;">\n                            <el-button @click="open_view" type="text">查看更多</el-button>\n\n                        </div>\n                    </div>\n                </div>\n                <div style="text-align: left;">\n                    <div v-for=\'task in tasks\'\n                         style="display: flex; align-items: center; font-size: 14px; margin-bottom: 10px;margin-top: 5px ">\n                        <div style="width: 130px;">{{task.train_name}}{{train_info[0]}}</div>\n                        <div style="flex-grow: 1;">\n                            <el-progress :stroke-width="10"\n                                         :color="task.single_customColor"\n                                         :percentage="task.total_num && (task.finished_num/task.total_num * 100).toFixed(2)"></el-progress>\n                        </div>\n\n                    </div>\n                    <div style="text-align: center;bottom: 1rem;position: absolute;align-self: center;width: 100%">\n                        <el-pagination :page-size=\'limit\' :current-page="current_page"\n                                       layout="prev, pager, next, jumper"\n                                       :pager-count="6"\n                                       @current-change="handleCurrentChange"\n                                       :total="page_count">\n                        </el-pagination>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import WidgetMixin from \'../../../mixins/widget_mixin\'\n\n    export default {\n        mixins: [WidgetMixin],\n        name: "EarlyWaringInfoLine",\n        props: {\n            data_type: {\n                default: String\n            }\n        },\n        data() {\n            return {\n                date_pickerOptions: {\n                    shortcuts: [{\n                        text: \'最近一周\',\n                        onClick(picker) {\n                            const end = new Date();\n                            const start = new Date();\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                            picker.$emit(\'pick\', [start, end]);\n                        }\n                    }, {\n                        text: \'最近一个月\',\n                        onClick(picker) {\n                            const end = new Date();\n                            const start = new Date();\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                            picker.$emit(\'pick\', [start, end]);\n                        }\n                    }, {\n                        text: \'最近三个月\',\n                        onClick(picker) {\n                            const end = new Date();\n                            const start = new Date();\n                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                            picker.$emit(\'pick\', [start, end]);\n                        }\n                    }]\n                },\n                date_range: [],\n                total_plan_num: 100,\n                finished_plan_num: 100,\n                train_info: [\'车辆检修\', \'完成率\'],\n                tasks: [\n                    {\n                        train_name: \'10000\',\n                        total_num: 100,\n                        finished_num: 100,\n                        single_customColor: "#409eff",\n                    }\n                ],\n                view_id: null,\n                add_ratio: 100,\n                page_count: 100,\n                limit: 5,\n                current_page: 1,\n                action_domain: null,\n                model: null,\n                all_customColor: "#409eff",\n            }\n        },\n        mounted() {\n            this.date_range = this.get_near_day();\n            this.load_overall_info();\n            this.load_task_data();\n        },\n        computed: {\n            parameter() {\n                const {date_range, current_page} = this;\n                return {\n                    date_range,\n                    current_page\n                }\n            }\n        },\n        methods: {\n            handleCurrentChange(data) {\n                this.current_page = data\n                this.load_task_data\n            },\n            color_change() {\n\n            },\n            load_task_data() {\n                let self = this;\n                let offset = this.limit * (this.current_page - 1);\n                this._rpc({\n                    \'model\': \'metro_park_production.early_waring_info\',\n                    \'method\': \'request_early_waring_task_info\',\n                    \'args\': [self.data_type, self.date_range[0], self.date_range[1]],\n                    \'kwargs\': {\'offset\': offset, \'limit\': self.limit}\n                }).then((res) => {\n                    console.log(res)\n                    if (res) {\n                        this.tasks = res\n                    }\n                })\n            },\n            load_overall_info() {\n                let self = this;\n                this._rpc({\n                    \'model\': \'metro_park_production.early_waring_info\',\n                    \'method\': \'get_overall_info\',\n                    \'args\': [self.data_type, self.date_range[0], self.date_range[1]],\n                }).then((res) => {\n                    if (res) {\n                        self.total_plan_num = res.sum_num;\n                        self.finished_plan_num = res.finished_num;\n                        self.model = res.model;\n                        self.action_domain = res.action_domain;\n                        self.view_id = res.view_id;\n                        self.train_info = res.train_info;\n                        self.all_customColor = res.all_customColor;\n                        self.page_count = res.page_count;\n                    }\n                })\n            },\n            get_near_day() {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                return [start, end];\n            },\n            open_view() {\n                this.do_action({\n                    \'type\': \'ir.actions.act_window\',\n                    \'res_model\': this.model,\n                    \'view_id\': this.view_id,\n                    \'domain\': this.action_domain,\n                    \'target\': \'new\',\n                    \'views\': [[false, \'list\'], [false, \'form\']],\n                })\n            }\n        },\n        watch: {\n            parameter() {\n                this.load_task_data()\n                this.load_overall_info()\n                this.color_change()\n            },\n        }\n    }\n<\/script>\n\n<style scoped>\n    .line-content {\n        display: flex;\n        padding-bottom: 10px;\n    }\n\n    .progress-content {\n        margin: auto;\n    }\n\n</style>',"\n.line-content[data-v-15b51994] {\n    display: flex;\n    padding-bottom: 10px;\n}\n.progress-content[data-v-15b51994] {\n    margin: auto;\n}\n\n"]}])},432:function(n,e,t){var i=t(433);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(23).default)("7960d8eb",i,!1,{})},433:function(n,e,t){(n.exports=t(22)(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"BI.vue"}])},61:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var i=t(26),a={vue_component:null,root_path:"../components/",vue:null,_bind_vue:function(n,e,require){null===this.vue_component&&error("Vue component nos is null"),n.append("<div/>");var t=this,a=i.a.nextTick(function(){var a=t.vue_component;a.$widget=e;var r=new i.a({render:function(n){return n(a)},beforeCreate:function(){this.$widget=e,this.$required=require}}).$mount(n.children("div").get(0));return t.vue=r,r});return i.a.config.productionTip=!1,a},destroy:function(){if(this.vue)try{this.vue.$destroy()}catch(n){}}}},741:function(n,e,t){"use strict";t.r(e);var i=t(30),a=t(20),r={name:"EarlyWaringSettingLine",mixins:[a.a],props:{setting:{type:Object,default:()=>({id:-1,waring_line_name:!1,single_open:!1,all_open:!1,single_threshold_value_percentage:0,all_threshold_value_percentage:!1,single_color:null,all_color:null})},waring_name:{}},computed:{},data:()=>({setting_data:{id:-1,waring_line_name:!1,single_open:!1,all_open:!1,single_threshold_value_percentage:!1,all_threshold_value_percentage:!1,single_color:null,all_color:null}}),methods:{write_line(n){this.$widget._rpc({model:"metro_park_production.early_waring.line",method:"write",args:[n.id,{all_color:n.all_color,single_open:n.single_open,all_open:n.all_open,single_threshold_value_percentage:n.single_threshold_value_percentage,all_threshold_value_percentage:n.all_threshold_value_percentage,single_color:n.single_color}]})}},watch:{setting:{immediate:!0,deep:!0,handler(n){this.write_line(n)}}}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"early-waring-content"},[t("div",{staticClass:"all-content"},[t("div",{staticClass:"color-picker-select"},[t("el-color-picker",{staticClass:"color-picker",attrs:{size:"mini"},model:{value:n.setting.all_color,callback:function(e){n.$set(n.setting,"all_color",e)},expression:"setting.all_color"}})],1),n._v(" "),t("div",{staticClass:"waring-text"},[n._v("\n            "+n._s(n.waring_name)+"总体完成率低于\n        ")]),n._v(" "),t("div",{staticClass:"percentage-input-content"},[t("el-input",{staticClass:"input-width",attrs:{size:"mini",type:"number"},model:{value:n.setting.all_threshold_value_percentage,callback:function(e){n.$set(n.setting,"all_threshold_value_percentage",e)},expression:"setting.all_threshold_value_percentage"}}),n._v(" "),t("strong",[n._v("%")])],1),n._v(" "),t("div",{staticClass:"waring-text"},[n._v("\n            为"+n._s(n.setting.waring_line_name)+"\n        ")]),n._v(" "),t("div",{staticClass:"switch"},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:n.setting.all_open,callback:function(e){n.$set(n.setting,"all_open",e)},expression:"setting.all_open"}})],1)]),n._v(" "),t("div",{staticClass:"single-content"},[t("div",{staticClass:"color-picker-select"},[t("el-color-picker",{staticClass:"color-picker",attrs:{size:"mini"},model:{value:n.setting.single_color,callback:function(e){n.$set(n.setting,"single_color",e)},expression:"setting.single_color"}})],1),n._v(" "),t("div",{staticClass:"waring-text"},[n._v("\n            "+n._s(n.waring_name)+"单个完成率低于\n        ")]),n._v(" "),t("div",{staticClass:"percentage-input-content"},[t("el-input",{staticClass:"input-width",attrs:{type:"number",size:"mini"},model:{value:n.setting.single_threshold_value_percentage,callback:function(e){n.$set(n.setting,"single_threshold_value_percentage",e)},expression:"setting.single_threshold_value_percentage"}}),n._v(" "),t("strong",[n._v("%")])],1),n._v(" "),t("div",{staticClass:"waring-text"},[n._v("\n            为"+n._s(n.setting.waring_line_name)+"\n        ")]),n._v(" "),t("div",{staticClass:"switch"},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:n.setting.single_open,callback:function(e){n.$set(n.setting,"single_open",e)},expression:"setting.single_open"}})],1)])])};l._withStripped=!0;var o=t(12),s=!1;var d=function(n){s||t(426)},c=Object(o.a)(r,l,[],!1,d,"data-v-741f7282",null);c.options.__file="src/main/park_production/early_waring/EarlyWaringSettingLine.vue";var p={name:"EarlyWaringSetting",components:{EarlyWaringSettingLine:c.exports},mixins:[a.a],computed:{},data:()=>({early_waring:[{name:null,apply_tag:null,settings:[]}],checked:{}}),mounted(){let n=this;this.$nextTick(()=>{n.make_early_waring_data()})},methods:{make_early_waring_data(){let n=this;n.$widget._rpc({model:"metro_park_production.early_waring",method:"get_early_data"}).then(function(e){n.set_data(e)})},set_data(n){this.early_waring=n}},widget:{init(){this._super.apply(this,arguments)}}},u=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"container early-waring-content"},n._l(n.early_waring,function(e){return t("div",{key:e.apply_tag,staticClass:"panel panel-default"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"panel-heading"},[t("span",[n._v(n._s(e.name)+"预警值设定")])]),n._v(" "),n._l(e.settings,function(n){return t("div",{key:n.id},[t("early-waring-setting-line",{attrs:{waring_name:e.name,setting:n}})],1)})],2)])}),0)};u._withStripped=!0;var g=!1;var m=function(n){g||t(424)},_=Object(o.a)(p,u,[],!1,m,"data-v-f5485924",null);_.options.__file="src/main/park_production/early_waring/EarlyWaringSetting.vue";var f=_.exports,v={mixins:[a.a],name:"EarlyWaringInfoLine",props:{data_type:{default:String}},data:()=>({date_pickerOptions:{shortcuts:[{text:"最近一周",onClick(n){const e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),n.$emit("pick",[t,e])}},{text:"最近一个月",onClick(n){const e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),n.$emit("pick",[t,e])}},{text:"最近三个月",onClick(n){const e=new Date,t=new Date;t.setTime(t.getTime()-7776e6),n.$emit("pick",[t,e])}}]},date_range:[],total_plan_num:100,finished_plan_num:100,train_info:["车辆检修","完成率"],tasks:[{train_name:"10000",total_num:100,finished_num:100,single_customColor:"#409eff"}],view_id:null,add_ratio:100,page_count:100,limit:5,current_page:1,action_domain:null,model:null,all_customColor:"#409eff"}),mounted(){this.date_range=this.get_near_day(),this.load_overall_info(),this.load_task_data()},computed:{parameter(){const{date_range:n,current_page:e}=this;return{date_range:n,current_page:e}}},methods:{handleCurrentChange(n){this.current_page=n,this.load_task_data},color_change(){},load_task_data(){let n=this.limit*(this.current_page-1);this._rpc({model:"metro_park_production.early_waring_info",method:"request_early_waring_task_info",args:[this.data_type,this.date_range[0],this.date_range[1]],kwargs:{offset:n,limit:this.limit}}).then(n=>{console.log(n),n&&(this.tasks=n)})},load_overall_info(){let n=this;this._rpc({model:"metro_park_production.early_waring_info",method:"get_overall_info",args:[n.data_type,n.date_range[0],n.date_range[1]]}).then(e=>{e&&(n.total_plan_num=e.sum_num,n.finished_plan_num=e.finished_num,n.model=e.model,n.action_domain=e.action_domain,n.view_id=e.view_id,n.train_info=e.train_info,n.all_customColor=e.all_customColor,n.page_count=e.page_count)})},get_near_day(){const n=new Date,e=new Date;return e.setTime(e.getTime()-2592e6),[e,n]},open_view(){this.do_action({type:"ir.actions.act_window",res_model:this.model,view_id:this.view_id,domain:this.action_domain,target:"new",views:[[!1,"list"],[!1,"form"]]})}},watch:{parameter(){this.load_task_data(),this.load_overall_info(),this.color_change()}}},h=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"line-content col"},[t("div",{staticStyle:{width:"280px"}},[t("div",{staticClass:"card",staticStyle:{height:"290px"}},[t("div",{staticClass:"clearfix text-center",attrs:{slot:"header"},slot:"header"},[t("span",[n._v(n._s(n.train_info[0])+n._s(n.train_info[1]))])]),n._v(" "),t("div",{staticClass:"progress-content",staticStyle:{"text-align":"center"}},[t("el-progress",{attrs:{"stroke-width":14,type:"circle",color:n.all_customColor,percentage:n.total_plan_num&&100*(n.finished_plan_num/n.total_plan_num).toFixed(2)}})],1),n._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("div",[t("strong",[n._v("综合"+n._s(n.train_info[1]))])]),n._v(" "),t("div",[n._v("完成/总任务数")]),n._v(" "),t("div",[n._v(n._s(n.finished_plan_num)+"/"+n._s(n.total_plan_num))])])])]),n._v(" "),t("div",{staticStyle:{"padding-left":"20px","flex-grow":"1"}},[t("div",{staticClass:"card",staticStyle:{height:"290px"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("div",{staticStyle:{display:"flex","align-items":"center",margin:"-3px 0"}},[n._m(0),n._v(" "),t("el-date-picker",{attrs:{size:"mini",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":n.date_pickerOptions},model:{value:n.date_range,callback:function(e){n.date_range=e},expression:"date_range"}}),n._v(" "),t("div",{staticStyle:{position:"absolute",right:"30px","font-size":"14px",color:"seagreen",cursor:"pointer"}},[t("el-button",{attrs:{type:"text"},on:{click:n.open_view}},[n._v("查看更多")])],1)],1)]),n._v(" "),t("div",{staticStyle:{"text-align":"left"}},[n._l(n.tasks,function(e){return t("div",{staticStyle:{display:"flex","align-items":"center","font-size":"14px","margin-bottom":"10px","margin-top":"5px"}},[t("div",{staticStyle:{width:"130px"}},[n._v(n._s(e.train_name)+n._s(n.train_info[0]))]),n._v(" "),t("div",{staticStyle:{"flex-grow":"1"}},[t("el-progress",{attrs:{"stroke-width":10,color:e.single_customColor,percentage:e.total_num&&(e.finished_num/e.total_num*100).toFixed(2)}})],1)])}),n._v(" "),t("div",{staticStyle:{"text-align":"center",bottom:"1rem",position:"absolute","align-self":"center",width:"100%"}},[t("el-pagination",{attrs:{"page-size":n.limit,"current-page":n.current_page,layout:"prev, pager, next, jumper","pager-count":6,total:n.page_count},on:{"current-change":n.handleCurrentChange}})],1)],2)])])])};h._withStripped=!0;var y=!1;var A=function(n){y||t(430)},w=Object(o.a)(v,h,[function(){var n=this.$createElement,e=this._self._c||n;return e("div",[e("strong",[this._v("选择日期:")])])}],!1,A,"data-v-15b51994",null);w.options.__file="src/main/park_production/early_waring/EarlyWaringInfoLine.vue";var b=w.exports,x={name:"EarlyWaringPage",mixins:[a.a],components:{EarlyWaringInfoLine:b},data:()=>({line_types:["train_maintain","train_run_start","train_run_finished","construction"]}),methods:{openEarlySetting(){this.do_action({type:"ir.actions.client",name:"预警阀值设置",tag:"EarlySetting",target:"new"})},openEarlyNotifySetting(){let n=this;this._rpc({model:"res.config.settings",method:"early_waring_notify_action"}).then(function(e){n.do_action(e)})}}},k=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row",staticStyle:{"margin-top":"2rem"}},[t("div",{staticClass:"col-md-8",staticStyle:{"margin-bottom":"2rem"}},[t("div",{staticClass:"el-button-group"},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:n.openEarlySetting}},[n._v("设定预警阀值")]),n._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:n.openEarlyNotifySetting}},[n._v("预警提醒配置")])],1)])]),n._v(" "),n._m(0),n._v(" "),n._l(n.line_types,function(n){return t("div",{staticClass:"row"},[t("early-waring-info-line",{attrs:{data_type:n}})],1)})],2)};k._withStripped=!0;var j=!1;var C=function(n){j||t(428)},S=Object(o.a)(x,k,[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h3",[this._v("\n                车辆生产指标预警\n            ")])])])}],!1,C,"data-v-5a92f8e1",null);S.options.__file="src/main/park_production/early_waring/EarlyWaringPage.vue";var E=S.exports,I=t(366),$=(t(489),t(319),t(137));console.log($);var T={name:"BI",components:{"e-chat":I.a},data:()=>({dispatchTrainNumOptions:$.dispatchTrainNum})},D=function(){var n=this.$createElement,e=this._self._c||n;return e("el-main",{staticStyle:{padding:"0",margin:"0",border:"0",height:"100%",width:"100%"}},[e("el-row",[e("el-col",{attrs:{span:"8"}},[e("e-chat",{staticStyle:{width:"100rem",height:"60rem"},attrs:{id:"chat-dispatch-train",options:this.dispatchTrainNumOptions}})],1)],1)],1)};D._withStripped=!0;var z=!1;var W=function(n){z||t(432)},F=Object(o.a)(T,D,[],!1,W,"data-v-b8a3d69e",null);F.options.__file="src/main/park_production/BI/BI.vue";var V=F.exports;t(367),i.a.actionRegister("EarlySetting",f),i.a.actionRegister("EarlyWaringPage",E),i.a.actionRegister("BIClient",V)},742:function(n,e,t){"use strict";t.r(e);var i=t(30),a=t(20),r={name:"AttachmentListField",mixins:[a.a],computed:{display_name(){return this.$widget.nodeOptions.button_name||"下载"}},data:()=>({metadata:{},dialogVisible:!1,value_data:[]}),mounted(){this.metadata=this.$widget.metadata},methods:{openDialog(n){n.stopPropagation(),this.value_data=this.$widget.value.data,this.dialogVisible=!0}},widget:{fieldsToFetch:{name:{type:"char"},datas_fname:{type:"char"},mimetype:{type:"char"}},supportedFieldTypes:["many2many","many2one"],init(){let n=this._super.apply(this,arguments);if("many2many"!==this.field.type||"ir.attachment"!==this.field.relation){throw _.str.sprintf("The type of the field '%s' must be a many2many field with a relation to 'ir.attachment' model.",this.field.string)}return this.metadata={},n},_generatedMetadata:function(){var n=this;_.each(this.value.data,function(e){n.metadata[e.id]={url:n._getFileUrl(e.data),name:e.name}})},_getFileUrl:function(n){return"/web/content/"+n.id+"?download=true"},_render:function(){this._generatedMetadata()}}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("div",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return e.stopPropagation(),n.openDialog(e)}}},[n._v(n._s(n.display_name))]),n._v(" "),t("el-dialog",{attrs:{title:"附件",visible:n.dialogVisible,"modal-append-to-body":!0,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:n.value_data,border:"",height:"32rem",width:"100%"}},[t("el-table-column",{attrs:{label:"文件名",prop:"data"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.data.name||e.row.data.filename))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"下载",prop:"id"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("a",{attrs:{href:n.metadata[e.row.id].url}},[n._v("\n                            下载\n                        ")])]}}])})],1)],1)],1)])};l._withStripped=!0;var o=t(12),s=!1;var d=function(n){s||t(390)},c=Object(o.a)(r,l,[],!1,d,"data-v-d99078fc",null);c.options.__file="src/widget_field/AttachmentListField.vue";var p=c.exports,u=(t(392),t(393),t(394),t(395),t(396),t(133),t(26)),g=t(97),m=t.n(g),f={name:"FroalaEditorField",mixins:[a.a],data(){let n=this,e=n.$root.$widget.mode,t={language:"zh_cn",zIndex:99999,events:{initialized:function(){"edit"!==e&&this.edit.off(),this.html.set(n.$widget.value)}}};return"edit"===e&&_.extend(t,{heightMin:600,height:720,toolbarSticky:!0}),"readonly"===e&&_.extend(t,{toolbarButtons:[],toolbarSticky:!1,toolbarBottom:!1}),{config:t,value:null}},watch:{value(n){this.$widget._setValue(n)}},widget:{supportedFieldTypes:["html"]}},v=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"froala-field"},[t("froala",{attrs:{tag:"textarea",config:n.config},model:{value:n.value,callback:function(e){n.value=e},expression:"value"}})],1)};v._withStripped=!0;var h=!1;var y=function(n){h||t(412)},A=Object(o.a)(f,v,[],!1,y,null,null);A.options.__file="src/widget_field/FroalaTableEditor.vue";var w=A.exports,b={name:"ColorPicker",mixins:[a.a],data:()=>({color:null}),watch:{color(n){this.$widget._setValue(n)}},mounted(){this.color=this.$widget.value}},x=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"block"},[t("el-color-picker",{attrs:{disabled:"readonly"===n.$widget.mode},model:{value:n.color,callback:function(e){n.color=e},expression:"color"}})],1)};x._withStripped=!0;var k=!1;var j=function(n){k||t(414)},C=Object(o.a)(b,x,[],!1,j,"data-v-3945453a",null);C.options.__file="src/widget_field/ColorPicker.vue";var S=C.exports,E={name:"VideoField",mixins:[a.a],data:()=>({metadata:{},dialogVisible:!1,value_data:[]}),mounted(){this.metadata=this.$widget.metadata},methods:{playVideo(n){n.stopPropagation(),this.dialogVisible=!0,this._play()},_play(){let n=this;setTimeout(function(){n.initVideo([{src:n.metadata.url,type:"video/mp4"}])})},closeDialog(){this.videoPlayer.dispose()},initVideo:function(n){this.videoPlayer=this.$video("#videoElement",{controls:!0,techOrder:["html5","flash"],preload:"auto",autoplay:!0,fluid:!0,language:"zh-CN",muted:!1,inactivityTimeout:!1,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,volumePanel:{inline:!1},children:[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"progressControl"},{name:"durationDisplay"},{name:"playbackRateMenuButton",playbackRates:[.5,1,1.5,2,2.5]},{name:"volumePanel",inline:!1},{name:"FullscreenToggle"}]},sources:n},function(){console.log("视频就绪>>>")})}},widget:{fieldsToFetch:{name:{type:"char"},datas_fname:{type:"char"},mimetype:{type:"char"}},supportedFieldTypes:["many2many","many2one"],init(){let n=this._super.apply(this,arguments);return this.metadata={},n},_generatedMetadata:function(){this.metadata={url:this._getFileUrl(this.value.data.id),name:this.value.data.display_name}},_getFileUrl:function(n){return"/metro_park_production/video_stream?attachment_video_id="+n},_render:function(){this._generatedMetadata()}}},I=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-view",round:""},on:{click:n.playVideo}}),n._v(" "),n.dialogVisible?t("el-dialog",{attrs:{title:n.metadata.name,visible:n.dialogVisible,width:"60%",modal:"false","modal-append-to-body":!0,"append-to-body":!0,"custom-class":"video-js-el-dialog",top:"10"},on:{"update:visible":function(e){n.dialogVisible=e},close:n.closeDialog}},[t("video",{staticClass:"video-js vjs-theme-city",attrs:{id:"videoElement",controls:"",preload:"auto"}})]):n._e()],1)};I._withStripped=!0;var $=!1;var T=function(n){$||t(416)},D=Object(o.a)(E,I,[],!1,T,null,null);D.options.__file="src/widget_field/VideoField.vue";var z=D.exports;u.a.use(m.a),i.a.fieldRegister("AttachmentListField",p),i.a.fieldRegister("FroalaTableEditor",w),i.a.fieldRegister("ColorPicker",S),i.a.fieldRegister("VideoField",z)},743:function(n,e,t){"use strict";t.r(e);var i=t(30),a=t(138),r=t(20),l={components:{Swiper:a.b,Slide:a.a},mixins:[r.a],data:()=>({pages:[],background:null}),methods:{GetQueryString(n){var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(e);return null!==t?unescape(t[2]):null},request_data(){let n=this.GetQueryString("mid"),e=this;this._rpc({model:"metro_park_production.screen",method:"request_data",args:[n]}).then(function(n){console.log(n),e.pages=n.pages,e.backgroud=n.background})}},mounted(){this.request_data(),document.title="大屏表单"},name:"ScreenLaunch"},o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"fr-fullscreen-wrapper",staticStyle:{top:"0",position:"fixed",left:"0",right:"0",height:"100%"}},[n.pages.length>0?t("Swiper",{attrs:{interval:1e4,showIndicator:!1}},n._l(n.pages,function(e,i){return t("Slide",{key:i},[t("div",{staticClass:"fr-box fr-ltr fr-basic fr-top",staticStyle:{"z-index":"99999"},attrs:{role:"application"}},[t("div",{staticClass:"fr-wrapper",staticStyle:{height:"600rem",overflow:"hidden",border:"0"},attrs:{dir:"ltr"}},[t("div",{staticClass:"fr-element fr-view",style:{height:"100%",background:n.backgroud},attrs:{dir:"ltr",contenteditable:"true","aria-disabled":"false",spellcheck:"true"},domProps:{innerHTML:n._s(e.html_value)}})])])])}),1):n._e()],1)};o._withStripped=!0;var s=t(12),d=!1;var c=function(n){d||t(418)},p=Object(s.a)(l,o,[],!1,c,"data-v-51f81f94",null);p.options.__file="src/widget_action/ScreenLaunch.vue";var u=p.exports;i.a.actionRegister("ScreenLaunch",u)}});