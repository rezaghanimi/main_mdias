<odoo>
    <data>

        <record model="ir.ui.view" id="metro_park_maintenance.day_plan_wizard_form">
            <field name="name">日计划向导</field>
            <field name="model">metro_park_maintenance.day_plan_wizard</field>
            <field name="arch" type="xml">
                <form>
                    <div class="form-group row">
                        <field name="use_pms_maintaince" invisible="1"/>
                        <label class="col-sm-2 col-form-label" for="year_plan_id">year_plan_id</label>
                        <div class="col-sm-3">
                            <field name="year_plan_id"
                                   options="{'no_create_edit': True,
                                   'no_open': True,
                                   'no_create':True}"/>
                        </div>
                    </div>

                    <div class="form-group row" attrs="{'invisible': [('year_plan_id', '=', False)]}">
                        <label class="col-sm-2 col-form-label" for="month_plan_id">month_plan_id</label>
                        <div class="col-sm-3">
                            <field name="month_plan_id"
                                   options="{'no_create_edit': True, 'no_open': True, 'no_create':True}"/>
                        </div>
                    </div>

                    <div class="form-group row" attrs="{'invisible': [('month_plan_id', '=', False)]}">
                        <label class="col-sm-2 col-form-label"
                               for="week_plan_id">week_plan_id</label>
                        <div class="col-sm-3">
                            <field name="week_plan_id"
                                   options="{'no_create_edit': True, 'no_open': True, 'no_create':True}"/>
                        </div>
                    </div>

                    <div class="form-group row" attrs="{'invisible': [('week_plan_id', '=', False)]}">
                        <label class="col-sm-2 col-form-label" for="day">day</label>
                        <div class="col-sm-3">
                            <field name="day"
                                   options="{'no_create_edit': True,'no_open': True, 'no_create':True}"/>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label" for="time_table_id">time_table_id</label>
                        <div class="col-sm-3">
                            <field name="time_table_id"
                                   options="{'no_create_edit': True,'no_open': True, 'no_create':True}"/>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label" for="name">name</label>
                        <div class="col-sm-3">
                            <field name="name" attrs="{'disabled': True}"/>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-2 col-form-label" for="pms_work_class_info"
                               attrs="{'invisible': [('use_pms_maintaince', '!=', 'yes')]}">pms_work_class_info
                        </label>
                        <div class="col-sm-3">
                            <field name="pms_work_class_info" options="{'no_create_edit': True,
                                   'no_open': True,
                                   'no_create':True}"
                                    attrs="{'invisible': [('use_pms_maintaince', '!=', 'yes')],'required': [('use_pms_maintaince', '=', 'yes')]}"/>
                        </div>
                    </div>

                    <notebook>
                        <page string="运营车">
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <field name="run_trains">
                                        <tree js_class="fnt_table" options="{'height': '300'}">
                                            <field name="dev_no"/>
                                            <field name="miles"/>
                                        </tree>
                                    </field>
                                </div>
                            </div>
                        </page>

                        <page string="车辆位置">
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <field name="train_infos">
                                        <tree js_class="fnt_table" options="{'height': '300'}" delete="0" editable="top">
                                            <field name="train" />
                                            <field name="location"
                                                   options="{'no_create_edit': True,'no_open': True, 'no_create':True}"/>
                                            <field name="rail"
                                                   options="{'no_create_edit': True,'no_open': True, 'no_create':True}"/>
                                            <field name="miles"/>
                                            <field name="last_mile_repair_date"/>
                                            <field name="last_repair_miles"/>
                                            <field name="miles_after_last_repair"/>
                                        </tree>
                                    </field>
                                </div>
                            </div>
                        </page>

                        <page string="高峰车最大数量">
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <field name="limit_infos">
                                        <tree js_class="fnt_table"
                                              options="{'height': '300'}"
                                              delete="0"
                                              editable="top"
                                              create="0">
                                            <field name="location"/>
                                            <field name="max_repair_after_high_run"/>
                                            <field name="max_repair_back_time" />
                                        </tree>
                                    </field>
                                </div>
                            </div>
                        </page>
                    </notebook>

                    <footer>
                        <button class="btn btn-success" type="object" name="on_ok" text="确定"/>
                        <button class="btn btn-info" text="取消" special="cancel"/>
                    </footer>

                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="metro_park_maintenance.day_plan_wizard_act_window">
            <field name="name">日计划向导</field>
            <field name="res_model">metro_park_maintenance.day_plan_wizard</field>
            <field name="view_mode">form</field>
        </record>

    </data>
</odoo>
    